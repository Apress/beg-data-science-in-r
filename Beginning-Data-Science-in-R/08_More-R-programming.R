## ------------------------------------------------------------------------
1:2**2

## ------------------------------------------------------------------------
1:2*2

## ------------------------------------------------------------------------
-1:2
-(1:2)

## ------------------------------------------------------------------------
1:sqrt(4)

## ------------------------------------------------------------------------
!TRUE
!FALSE

## ------------------------------------------------------------------------
TRUE | FALSE
FALSE | FALSE

TRUE || FALSE
FALSE || FALSE

x <- c(TRUE, FALSE, TRUE, FALSE)
y <- c(TRUE, TRUE, FALSE, FALSE)

x | y
x || y

x & y
x && y

## ------------------------------------------------------------------------
is.numeric(2)
class(2)

## ------------------------------------------------------------------------
is.integer(2)
is.integer(2L)
x <- as.integer(2)
is.integer(x)
class(x)

## ------------------------------------------------------------------------
as.integer(3.2)
as.integer(9.9)

## ------------------------------------------------------------------------
1 + 0i
is.complex(1 + 0i)
class(1 + 0i)
sqrt(as.complex(-1))

## ------------------------------------------------------------------------
x <- 5 > 4
x
class(x)
is.logical(x)

## ------------------------------------------------------------------------
x <- "hello, world"
class(x)
is.character(x)

## ------------------------------------------------------------------------
as.character(3.14)

## ------------------------------------------------------------------------
v <- c(1, 2, 3)

## ------------------------------------------------------------------------
1:3
rep("foo", 3)

## ------------------------------------------------------------------------
v <- 1:3
is.atomic(v)

## ------------------------------------------------------------------------
v <- 1:3
is.vector(v)

## ------------------------------------------------------------------------
v <- 1:3
is.vector(v)
attr(v, "foo") <- "bar"
v
is.vector(v)

## ------------------------------------------------------------------------
c(1, 2, c(3, 4), c(5, 6, 7))

## ------------------------------------------------------------------------
c(1, 2, 3, "foo")

## ------------------------------------------------------------------------
v <- 1:6
attributes(v)
dim(v) <- c(2, 3)
attributes(v)
dim(v)
v

## ------------------------------------------------------------------------
v <- 1:6
matrix(data = v, nrow = 2, ncol = 3, byrow = FALSE)
matrix(data = v, nrow = 2, ncol = 3, byrow = TRUE)

## ------------------------------------------------------------------------
(A <- matrix(1:4, nrow = 2))
(B <- matrix(5:8, nrow = 2))
A * B
A %*% B

## ------------------------------------------------------------------------
t(A)
solve(A)
solve(A) %*% A

## ------------------------------------------------------------------------
list(1:3, 5:8)

## ------------------------------------------------------------------------
list(1:3, c(TRUE, FALSE))

## ------------------------------------------------------------------------
list(list(), list(list(), list()))

## ------------------------------------------------------------------------
unlist(list(1:4, 5:7))

## ------------------------------------------------------------------------
v <- 1:4
v[2]

## ------------------------------------------------------------------------
v[2:3]

## ------------------------------------------------------------------------
v[c(1,1,4,3,2)]

## ------------------------------------------------------------------------
v[-1]

## ------------------------------------------------------------------------
v[-(1:2)]

## ------------------------------------------------------------------------
v[v %% 2 == 0]

## ------------------------------------------------------------------------
v[v %% 2 == 0] <- 13
v

## ------------------------------------------------------------------------
 m <- matrix(1:6, nrow = 2, byrow = TRUE)
 m
 m[1,]
 m[,1]

## ------------------------------------------------------------------------
m[1:2,1:2]

## ------------------------------------------------------------------------
m[1,,drop=FALSE]
m[,1,drop=FALSE]

## ------------------------------------------------------------------------
L <- list(1,2,3)
L[1]
L[2:3]

## ------------------------------------------------------------------------
L <- list(1,2,3)
L[[1]]

## ------------------------------------------------------------------------
v <- c(a = 1, b = 2, c = 3, d = 4)
v

L <- list(a = 1:5, b = c(TRUE, FALSE))
L

## ------------------------------------------------------------------------
names(v) <- LETTERS[1:4]
v

## ------------------------------------------------------------------------
v["A"]
L["a"]
L[["a"]]

## ------------------------------------------------------------------------
L$a

## ------------------------------------------------------------------------
for (i in 1:4) {
    print(i)
}

## ------------------------------------------------------------------------
x <- c("foo", "bar", "baz")
for (i in seq_along(x)) {
    print(i)
    print(x[i])
}

## ------------------------------------------------------------------------
x <- c()
1:length(x)

## ------------------------------------------------------------------------
for (i in seq_along(x)) {
    if (i %% 2 == 0) {
        next
    }
    print(x[i])
}

## ------------------------------------------------------------------------
for (i in 1:100) {
    if (i %% 2 == 0) {
        next
    }
    if (i > 5) {
        break
    }
    print(i)
}

## ------------------------------------------------------------------------
i <- 1
while (i < 5) {
    print(i)
    i <- i + 1
}

## ------------------------------------------------------------------------
i <- 1
repeat {
    print(i)
    i <- i + 1
    if (i > 5) break
}

## ------------------------------------------------------------------------
f <- function() { 
    print("hello, world")
    5
}
f()

## ------------------------------------------------------------------------
plus <- function(x, y) {
    print(paste(x, "+", y, "is", x + y))
    x + y
}

div <- function(x, y) {
    print(paste(x, "/", y, "is", x / y))
    x / y
}

plus(2, 2)
div(6, 2)

## ------------------------------------------------------------------------
div(6,2)
div(2,6)

## ------------------------------------------------------------------------
div(x = 6, y = 2)
div(y = 2, x = 6)

## ------------------------------------------------------------------------
div(x <- 6, y <- 2)
div(y <- 2, x <- 6)

## ------------------------------------------------------------------------
pow <- function(x, y = 2) x^y
pow(2)
pow(3)
pow(2, 3)
pow(3, 3)

## ------------------------------------------------------------------------
safer_div <- function(x, y) {
    if (y == 0) {
        NA
    } else {
        x / y
    }
}
safer_div(4, 2)
safer_div(4, 0)

## ------------------------------------------------------------------------
safer_div <- function(x, y) {
    if (y == 0) {
        return(NA)
    }
    x / y
}
safer_div(4, 2)
safer_div(4, 0)

## ------------------------------------------------------------------------
f <- function(x, y = x^2) y + x

## ------------------------------------------------------------------------
f(2)

## ------------------------------------------------------------------------
g <- function(x, y = x^2) { x <- 0; y + x }
g(2)

## ------------------------------------------------------------------------
h <- function(x, y = x^2) { y; x <- 0; y + x }
h(2)

## ------------------------------------------------------------------------
x <- "x"
f <- function(y) {
    g <- function() c(x, y)
    g()
}
f("y")

## ------------------------------------------------------------------------
x <- "x"
f <- function(y) {
  g <- function() c(x, y)
  y <- "z"
  g()
}
f("y")

## ------------------------------------------------------------------------
x <- "x"
f <- function(y) {
  g <- function() c(x, y)
  g()
  y <- "z"
  g()
}
f("y")

## ------------------------------------------------------------------------
x <- "x"
f <- function(y) {
  g <- function() c(x, y)
  g
}
g <- f("y")
g()

## ------------------------------------------------------------------------
x <- "x"
f <- function(y) {
  g <- function() c(x, y)
  g
}
g <- f("y")
h <- f("z")
g()
h()

## ------------------------------------------------------------------------
f <- function() {
  g <- function() c(y, z)
  y <- "y"
  g
}
h <- f()
h()
z <- "z"
h()

## ------------------------------------------------------------------------
f <- function() {
    x <- NULL
    set <- function(val) { x <- val }
    get <- function() x
    list(set = set, get = get)
}

x <- f()
x$get()
x$set(5)
x$get()

## ------------------------------------------------------------------------
f <- function() {
    x <- NULL
    set <- function(val) { x <<- val }
    get <- function() x
    list(set = set, get = get)
}

x <- f()
x$get()
x$set(5)
x$get()

## ------------------------------------------------------------------------
n <- function(x) x
f <- function(n) n(n)
f(5)

## ------------------------------------------------------------------------
f(function(x) 15)

## ------------------------------------------------------------------------
factorial <- function(n) {
    if (n == 1) {
        1
    } else {
        n * factorial(n - 1)
    }
}

## ------------------------------------------------------------------------
merge <- function(x, y) {
  if (length(x) == 0) return(y)
  if (length(y) == 0) return(x)
  
  if (x[1] < y[1]) {
    c(x[1], merge(x[-1], y))
  } else {
    c(y[1], merge(x, y[-1]))
  }
}

## ------------------------------------------------------------------------
merge_sort <- function(x) {
  if (length(x) < 2) return(x)
  
  n <- length(x)
  m <- n %/% 2
  
  merge(merge_sort(x[1:m]), merge_sort(x[(m+1):n]))
}

## ------------------------------------------------------------------------
n <- 5
v <- vector(length = n)

